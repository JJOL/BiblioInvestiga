<div class="modal-backdrop">
  <div class="modal-content">
    <div class="modal-header">
      <h2>My Library</h2>
      <button class="close-button" (click)="onClose()">
        <span class="material-icons">close</span>
      </button>
    </div>

    <div class="modal-body">
      <div class="actions">
        <button class="add-document-button" (click)="onAddDocument()" *ngIf="!showAddForm">
          <span class="material-icons">add</span>
          Add Document
        </button>

        <div class="add-form" *ngIf="showAddForm">
          <h3>Add New Document</h3>
          <div class="form-group">
            <label>File*:</label>
            <input 
              type="file" 
              accept=".pdf"
              (change)="onFileSelected($event)"
              required
            >
          </div>
          <div class="form-group">
            <label>Title*:</label>
            <input 
              type="text" 
              [(ngModel)]="newDocument.title"
              required
            >
          </div>
          <div class="form-group">
            <label>Author*:</label>
            <input 
              type="text" 
              [(ngModel)]="newDocument.author"
              required
            >
          </div>
          <div class="form-group">
            <label>Publication Date:</label>
            <input 
              type="date" 
              [(ngModel)]="newDocument.publishedDate"
            >
          </div>
          <div class="form-actions">
            <button class="cancel-button" (click)="onCancelAdd()">Cancel</button>
            <button class="save-button" (click)="onSaveDocument()">Save</button>
          </div>
        </div>
      </div>

      <div class="documents-container">
        <div *ngIf="documents.length === 0" class="no-documents">
          Your library is empty. Click "Add Document" to get started.
        </div>

        <table *ngIf="documents.length > 0" class="documents-table">
          <thead>
            <tr>
              <th>Title</th>
              <th>Author</th>
              <th>Published Date</th>
              <th>Added Date</th>
              <th>Pages</th>
              <th>Filename</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let doc of documents">
              <td>{{doc.title}}</td>
              <td>{{doc.author}}</td>
              <td>{{doc.publishedDate | date}}</td>
              <td>{{doc.addedDate | date}}</td>
              <td>{{doc.pageCount}}</td>
              <td>{{doc.filename}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div> 