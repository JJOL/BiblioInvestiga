<div class="app-container">
  <app-header
    (toggleSearch)="toggleSearchPanel()"
    (toggleComments)="toggleCommentsPanel()"
    (toggleSplitView)="toggleSplitView()"
  ></app-header>
  
  <div class="content-container">
    @if (showSearchPanel) {
      <app-search-panel 
        class="search-panel"
        (searchResultSelected)="onSearchResultSelected($event)"
        [showSearchPanel]="showSearchPanel"
      ></app-search-panel>
    }

    <div class="main-container" [class.with-search]="showSearchPanel" [class.with-comments]="showCommentsPanel">
      <app-main-panel
        [showSplitView]="showSplitView"
        [searchResult]="selectedSearchResult"
        [isSearchOpen]="showSearchPanel"
        >
      </app-main-panel>
      @if (viewerState) {
          
      } @else {
        <!-- <div class="document-viewer-placeholder">
          Select a search result to view the document
        </div> -->
      }
    </div>

    @if (showCommentsPanel) {
      <app-comments-panel class="comments-panel"></app-comments-panel>
    }
  </div>
</div>